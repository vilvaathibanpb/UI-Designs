{"version":3,"sources":["../../lib/site.plugin.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;;;AAGA,IAAM,OAAO,QAAb;;IAEM,U;;AAEL;;;;;;;;AAQA,qBAAa,IAAb,EAAmB,GAAnB,EAAwB,KAAxB,EAAgC;AAAA;;AAC/B,MAAK,EAAI,gBAAgB,UAApB,CAAL,EAAwC;AACvC,UAAO,IAAI,UAAJ,CAAgB,IAAhB,EAAsB,GAAtB,EAA2B,KAA3B,CAAP;AACA;;AAED,MAAK,CAAE,IAAP,EAAc;AACb,SAAM,IAAI,KAAJ,CAAW,iCAAX,CAAN;AACA;;AAED,OAAK,KAAL,GAAa,mBAAoB,IAApB,CAAb;AACA,OAAK,IAAL,GAAY,GAAZ;AACA,OAAK,KAAL,GAAa,KAAb;;AAEA,MAAM,OAAU,IAAV,SAAmB,KAAK,IAAxB,aAAN;AACA,OAAK,UAAL,GAAsB,IAAtB,SAAgC,KAAK,KAArC;AACA;;AAED;;;;;;;;;;;sBAOK,K,EAAO,E,EAAK;AAChB,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAoB,KAAK,UAAzB,EAAqC,KAArC,EAA4C,EAA5C,CAAP;AACA;;AAED;;;;;;;;;;;yBAQQ,K,EAAO,I,EAAM,E,EAAK;AACzB,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAoB,KAAK,UAAzB,EAAqC,KAArC,EAA4C,IAA5C,EAAkD,EAAlD,CAAP;AACA;;;;;AAED;;;;;;;gCAOe,K,EAAO,E,EAAK;AAC1B,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAwB,KAAK,UAA7B,cAAmD,KAAnD,EAA0D,EAA1D,CAAP;AACA;;;;;AAED;;;;;;;0BAOS,K,EAAO,E,EAAK;AACpB,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAwB,KAAK,UAA7B,eAAoD,KAApD,EAA2D,EAA3D,CAAP;AACA;;;;;AAED;;;;;;;0BAOQ,K,EAAO,E,EAAK;AACnB,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAwB,KAAK,UAA7B,cAAmD,KAAnD,EAA0D,EAA1D,CAAP;AACA;;;;;AAED;;;;;;;;2BAQU,K,EAAO,E,EAAK;AACrB,UAAO,KAAK,MAAL,CAAa,KAAb,EAAoB,EAAE,QAAQ,IAAV,EAApB,EAAsC,EAAtC,CAAP;AACA;;;;;AAED;;;;;;;;6BAQY,K,EAAO,E,EAAK;AACvB,UAAO,KAAK,MAAL,CAAa,KAAb,EAAoB,EAAE,QAAQ,KAAV,EAApB,EAAuC,EAAvC,CAAP;AACA;;AAED;;;;;;;;;;;mCAQkB,K,EAAO,E,EAAK;AAC7B,UAAO,KAAK,MAAL,CAAa,KAAb,EAAoB,EAAE,YAAY,IAAd,EAApB,EAA0C,EAA1C,CAAP;AACA;;AAED;;;;;;;;;;;oCAQmB,K,EAAO,E,EAAK;AAC9B,UAAO,KAAK,MAAL,CAAa,KAAb,EAAoB,EAAE,YAAY,KAAd,EAApB,EAA2C,EAA3C,CAAP;AACA;;;;;AAGF;;;;;kBAGe,U","file":"site.plugin.js","sourcesContent":["/**\n * Module vars\n */\nconst root = '/sites';\n\nclass SitePlugin {\n\n\t/**\n\t * `SitePlugin` constructor.\n\t *\n\t * @param {String} [slug] - the plugin slug\n\t * @param {Number|String} sid - site identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @return {Undefined} undefined\n\t */\n\tconstructor( slug, sid, wpcom ) {\n\t\tif ( ! ( this instanceof SitePlugin ) ) {\n\t\t\treturn new SitePlugin( slug, sid, wpcom );\n\t\t}\n\n\t\tif ( ! slug ) {\n\t\t\tthrow new Error( '`slug` is not correctly defined' );\n\t\t}\n\n\t\tthis._slug = encodeURIComponent( slug );\n\t\tthis._sid = sid;\n\t\tthis.wpcom = wpcom;\n\n\t\tconst path = `${root}/${ this._sid }/plugins`;\n\t\tthis.pluginPath = `${ path }/${ this._slug }`;\n\t}\n\n\t/**\n\t * Get informtion about the plugin\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @return {Promise} Promise\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( this.pluginPath, query, fn );\n\t}\n\n\t/**\n\t * Update the plugin configuration\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Object} body - plugin body object\n\t * @param {Function} [fn] - callback function\n\t * @return {Promise} Promise\n\t */\n\tupdate( query, body, fn ) {\n\t\treturn this.wpcom.req.put( this.pluginPath, query, body, fn );\n\t};\n\n\t/**\n\t * Update the plugin version\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @return {Promise} Promise\n\t */\n\tupdateVersion( query, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.pluginPath }/update`, query, fn );\n\t};\n\n\t/**\n\t * Install the plugin\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @return {Promise} Promise\n\t */\n\tinstall( query, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.pluginPath }/install`, query, fn );\n\t};\n\n\t/**\n\t * Delete the plugin\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @return {Promise} Promise\n\t */\n\tdelete( query, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.pluginPath }/delete`, query, fn );\n\t};\n\n\t/**\n\t * Activate the plugin\n\t * This method is a shorthand of update()\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @return {Promise} Promise\n\t */\n\tactivate( query, fn ) {\n\t\treturn this.update( query, { active: true }, fn );\n\t};\n\n\t/**\n\t * Deactivate the plugin\n\t * This method is a shorthand of update()\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @return {Promise} Promise\n\t */\n\tdeactivate( query, fn ) {\n\t\treturn this.update( query, { active: false }, fn );\n\t}\n\n\t/**\n\t * Enable plugin autoupdate\n\t * This method is a shorthand of update()\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @return {Promise} Promise\n\t */\n\tenableAutoupdate( query, fn ) {\n\t\treturn this.update( query, { autoupdate: true }, fn );\n\t}\n\n\t/**\n\t * Disable plugin autoupdate\n\t * This method is a shorthand of update()\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @return {Promise} Promise\n\t */\n\tdisableAutoupdate( query, fn ) {\n\t\treturn this.update( query, { autoupdate: false }, fn );\n\t};\n}\n\n/**\n * Expose `SitePlugin` module\n */\nexport default SitePlugin;\n"]}