{"version":3,"sources":["../../lib/site.post.subscriber.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;IAAM,kB;AACL;;;;;;;;AAQA,6BAAa,EAAb,EAAiB,GAAjB,EAAsB,KAAtB,EAA8B;AAAA;;AAC7B,MAAK,CAAE,GAAP,EAAa;AACZ,SAAM,IAAI,KAAJ,CAAW,oCAAX,CAAN;AACA;;AAED,MAAK,CAAE,EAAP,EAAY;AACX,SAAM,IAAI,KAAJ,CAAW,oCAAX,CAAN;AACA;;AAED,MAAK,EAAI,gBAAgB,kBAApB,CAAL,EAAgD;AAC/C,UAAO,IAAI,kBAAJ,CAAwB,EAAxB,EAA4B,GAA5B,EAAiC,KAAjC,CAAP;AACA;;AAED,OAAK,KAAL,GAAa,KAAb;AACA,OAAK,GAAL,GAAW,EAAX;AACA,OAAK,IAAL,GAAY,GAAZ;AACA,OAAK,IAAL,eAAsB,KAAK,IAA3B,eAAyC,KAAK,GAA9C;AACA;;AAED;;;;;;;;;;;;;;;;;;;;;;uBAkBM,K,EAAO,E,EAAK;AACjB,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAuB,KAAK,IAA5B,YAAyC,KAAzC,EAAgD,EAAhD,CAAP;AACA;;AAED;;;;;;;;;;;;;;;;;;;;sBAiBK,K,EAAO,E,EAAK;AAChB,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAuB,KAAK,IAA5B,WAAwC,KAAxC,EAA+C,IAA/C,EAAqD,EAArD,CAAP;AACA;;AAED;;;;;;;;;;;;;;;;;;;;sBAiBK,K,EAAO,E,EAAK;AAChB,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAuB,KAAK,IAA5B,mBAAgD,KAAhD,EAAuD,EAAvD,CAAP;AACA;;;;;AAGF;;;AACA,mBAAmB,SAAnB,CAA6B,KAA7B,GAAqC,mBAAmB,SAAnB,CAA6B,IAAlE;AACA,mBAAmB,SAAnB,CAA6B,MAA7B,GAAsC,mBAAmB,SAAnB,CAA6B,GAAnE;;kBAEe,kB","file":"site.post.subscriber.js","sourcesContent":["class SitePostSubscriber {\n\t/**\n\t * `SitePostSubscriber` constructor.\n\t *\n\t * @param {String} id - post identifier\n\t * @param {String} sid - site identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @return {Null} null\n\t */\n\tconstructor( id, sid, wpcom ) {\n\t\tif ( ! sid ) {\n\t\t\tthrow new Error( '`side id` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! id ) {\n\t\t\tthrow new Error( '`post id` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SitePostSubscriber ) ) {\n\t\t\treturn new SitePostSubscriber( id, sid, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\t\tthis._id = id;\n\t\tthis._sid = sid;\n\t\tthis.path = `/sites/${this._sid}/posts/${this._id}/subscribers`;\n\t}\n\n\t/**\n\t * Get subscriber status for the current user for the Post.\n\t *\n\t *\n\t * *Example:*\n\t *    Get subscriber status for the current user for the Post\n\t *    wpcom\n\t *    .site( 'en.blog.wordpress.com' )\n\t *    .post( 1234 )\n\t *    .subscriber()\n\t *    .mine( function( err, data ) {\n\t *      // subscription data\n\t *    } );\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @return {Promise} Promise\n\t */\n\tmine( query, fn ) {\n\t\treturn this.wpcom.req.get( `${this.path}/mine`, query, fn );\n\t}\n\n\t/**\n\t * Subscribe the current user to the post.\n\t *\n\t * *Example:*\n\t *    // Subscribe the current user to the post\n\t *    wpcom\n\t *    .site( 'en.blog.wordpress.com' )\n\t *    .post( 1234 )\n\t *    .subscriber()\n\t *    .add( function( err, data ) {\n\t *      // current user has been subscribed to post\n\t *    } );\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @return {Promise} Promise\n\t */\n\tadd( query, fn ) {\n\t\treturn this.wpcom.req.put( `${this.path}/new`, query, null, fn );\n\t}\n\n\t/**\n\t * Unsubscribe current user to the post\n\t *\n\t * *Example:*\n\t *    // Unsubscribe current user to the post\n\t *    wpcom\n\t *    .site( 'en.blog.wordpress.com' )\n\t *    .post( 1234 )\n\t *    .subscriber()\n\t *    .del( function( err, data ) {\n\t *      // current user has been unsubscribed to post\n\t *    } );\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @return {Promise} Promise\n\t */\n\tdel( query, fn ) {\n\t\treturn this.wpcom.req.del( `${this.path}/mine/delete`, query, fn );\n\t}\n}\n\n// method alias\nSitePostSubscriber.prototype.state = SitePostSubscriber.prototype.mine;\nSitePostSubscriber.prototype.delete = SitePostSubscriber.prototype.del;\n\nexport default SitePostSubscriber;\n"]}