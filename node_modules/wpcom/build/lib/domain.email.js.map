{"version":3,"sources":["../../lib/domain.email.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,IAAM,OAAO,WAAb;;IAEM,W;AACL;;;;;;;;AAQA,sBAAa,KAAb,EAAoB,QAApB,EAA8B,KAA9B,EAAsC;AAAA;;AACrC,MAAK,EAAI,gBAAgB,WAApB,CAAL,EAAyC;AACxC,UAAO,IAAI,WAAJ,CAAiB,KAAjB,EAAwB,QAAxB,EAAkC,KAAlC,CAAP;AACA;;AAED,MAAK,KAAL,EAAa;AACZ,QAAK,MAAL,GAAc,KAAd;AACA;;AAED,OAAK,OAAL,GAAe,QAAf;AACA,OAAK,QAAL,GAAgB,OAAO,KAAK,OAAZ,GAAsB,SAAtC;AACA,OAAK,KAAL,GAAa,KAAb;AACA;;AAED;;;;;;;;;;;;0BAQS,W,EAAa,K,EAAO,E,EAAK;AACjC,OAAI,OAAO,EAAE,aAAa,WAAf,EAAX;AACA,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,IAAf,CAAqB,KAAK,QAAL,GAAgB,KAAK,MAA1C,EAAkD,KAAlD,EAAyD,IAAzD,EAA+D,EAA/D,CAAP;AACA;;AAED;;;;;;;;;;;sBASK,O,EAAS,W,EAAa,K,EAAO,E,EAAK;AACtC,OAAK,eAAe,OAAO,KAA3B,EAAmC;AAClC,SAAK,KAAL;AACA,YAAQ,EAAR;AACA;;AAED,OAAI,OAAO;AACV,aAAS,OADC;AAEV,iBAAa;AAFH,IAAX;;AAKA,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,IAAf,CAAqB,KAAK,QAAL,GAAgB,KAArC,EAA4C,KAA5C,EAAmD,IAAnD,EAAyD,EAAzD,CAAP;AACA;;AAED;;;;;;;;;;;0BAQQ,O,EAAS,K,EAAO,E,EAAK;AAC5B,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAoB,KAAK,QAAL,GAAgB,OAAhB,GAA0B,SAA9C,EAAyD,KAAzD,EAAgE,EAAhE,CAAP;AACA;;;;;AAGF;;;;;kBAGe,W","file":"domain.email.js","sourcesContent":["const root = '/domains/';\n\nclass DomainEmail {\n\t/**\n\t * `DomainEmail` constructor.\n\t *\n\t * @param {String} [email] - email\n\t * @param {String} domainId - domain identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @return {Undefined} undefined\n\t */\n\tconstructor( email, domainId, wpcom ) {\n\t\tif ( ! ( this instanceof DomainEmail ) ) {\n\t\t\treturn new DomainEmail( email, domainId, wpcom );\n\t\t}\n\n\t\tif ( email ) {\n\t\t\tthis._email = email;\n\t\t}\n\n\t\tthis._domain = domainId;\n\t\tthis._subpath = root + this._domain + '/email/';\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Update the email forwards/configuration for a domain.\n\t *\n\t * @param {String} destination - the email address to forward email to.\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @return {Function} request handler\n\t */\n\tforward( destination, query, fn ) {\n\t\tlet body = { destination: destination };\n\t\treturn this.wpcom.req.post( this._subpath + this._email, query, body, fn );\n\t}\n\n\t/**\n\t * Create an email forward for the domain\n\t * if it has enough licenses.\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @return {Function} request handler\n\t */\n\n\tadd( mailbox, destination, query, fn ) {\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\tlet body = {\n\t\t\tmailbox: mailbox,\n\t\t\tdestination: destination\n\t\t};\n\n\t\treturn this.wpcom.req.post( this._subpath + 'new', query, body, fn );\n\t}\n\n\t/**\n\t * Delete an email forward for the domain\n\t *\n\t * @param {String} mailbox - mailbox to alter\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @return {Function} request handler\n\t */\n\tdelete( mailbox, query, fn ) {\n\t\treturn this.wpcom.req.del( this._subpath + mailbox + '/delete', query, fn );\n\t};\n}\n\n/**\n * Expose `DomainEmail` module\n */\nexport default DomainEmail;\n"]}