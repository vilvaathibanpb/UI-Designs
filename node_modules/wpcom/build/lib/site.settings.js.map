{"version":3,"sources":["../../lib/site.settings.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;IAOM,Y;AACL,uBAAa,GAAb,EAAkB,KAAlB,EAA0B;AAAA;;AACzB,MAAK,CAAE,GAAP,EAAa;AACZ,SAAM,IAAI,KAAJ,CAAW,oCAAX,CAAN;AACA;;AAED,MAAK,EAAI,gBAAgB,YAApB,CAAL,EAA0C;AACzC,UAAO,IAAI,YAAJ,CAAkB,GAAlB,EAAuB,KAAvB,CAAP;AACA;;AAED,OAAK,KAAL,GAAa,KAAb;AACA,OAAK,IAAL,GAAY,GAAZ;AACA,OAAK,IAAL,eAAsB,KAAK,IAA3B;AACA;;AAED;;;;;;;;;;;sBAOK,K,EAAO,E,EAAK;AAChB,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAoB,KAAK,IAAzB,EAA+B,KAA/B,EAAsC,EAAtC,CAAP;AACA;;AAED;;;;;;;;;;4BAOW,M,EAAwB;AAAA;;AAAA,OAAhB,EAAgB,uEAAX,YAAM,CAAE,CAAG;;AAClC,OAAI,QAAQ,EAAE,QAAQ,UAAV,EAAZ;AACA,UAAO,sBAAa,UAAE,OAAF,EAAW,MAAX,EAAuB;AAC1C,UAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAoB,MAAK,IAAzB,EAA+B,KAA/B,EAAsC,UAAE,GAAF,EAAO,IAAP,EAAiB;AACtD,SAAK,GAAL,EAAW;AACV,SAAI,GAAJ;AACA,aAAO,OAAQ,GAAR,CAAP;AACA;;AAED,SAAK,CAAE,IAAP,EAAc;AACb;AACA,aAAO,SAAP;AACA;;AAED,SAAI,WAAW,KAAK,QAApB;;AAEA,SAAK,YAAY,OAAO,SAAU,MAAV,CAAP,KAA8B,WAA/C,EAA6D;AAC5D,SAAI,IAAJ,EAAU,SAAU,MAAV,CAAV;AACA,aAAO,QAAS,SAAU,MAAV,CAAT,CAAP;AACA;;AAED,QAAI,IAAJ,EAAU,IAAV;AACA,YAAO,QAAS,IAAT,CAAP;AACA,KApBD;AAqBA,IAtBM,CAAP;AAuBA;;AAED;;;;;;;;;;;yBAQQ,K,EAAO,I,EAAM,E,EAAK;AACzB,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAoB,KAAK,IAAzB,EAA+B,KAA/B,EAAsC,IAAtC,EAA4C,EAA5C,CAAP;AACA;;AAED;;;;;;;;;;;4BAQW,M,EAAQ,K,EAAO,E,EAAK;AAC9B,UAAO,KAAK,KAAL,CAAW,GAAX,CAAe,GAAf,CAAoB,KAAK,IAAzB,EAA+B,EAA/B,oCAAuC,MAAvC,EAAiD,KAAjD,GAA0D,EAA1D,CAAP;AACA;;;;;kBAGa,Y","file":"site.settings.js","sourcesContent":["/**\n * SiteSettings methods\n *\n * @param {String} sid - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @return {Null} null\n */\nclass SiteSettings {\n\tconstructor( sid, wpcom ) {\n\t\tif ( ! sid ) {\n\t\t\tthrow new Error( '`site id` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SiteSettings ) ) {\n\t\t\treturn new SiteSettings( sid, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\t\tthis._sid = sid;\n\t\tthis.path = `/sites/${this._sid}/settings`;\n\t}\n\n\t/**\n\t * Get site-settings\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @return {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( this.path, query, fn );\n\t}\n\n\t/**\n\t * Get site-settings single option\n\t *\n\t * @param {String} option - option to ask\n\t * @param {Function} [fn] - callback function\n\t * @return {Function} request handler\n\t */\n\tgetOption( option, fn = () => {} ) {\n\t\tlet query = { fields: 'settings' };\n\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\tthis.wpcom.req.get( this.path, query, ( err, data ) => {\n\t\t\t\tif ( err ) {\n\t\t\t\t\tfn( err );\n\t\t\t\t\treturn reject( err );\n\t\t\t\t}\n\n\t\t\t\tif ( ! data ) {\n\t\t\t\t\tfn();\n\t\t\t\t\treturn resolve();\n\t\t\t\t}\n\n\t\t\t\tlet settings = data.settings;\n\n\t\t\t\tif ( settings && typeof settings[ option ] !== 'undefined' ) {\n\t\t\t\t\tfn( null, settings[ option ] );\n\t\t\t\t\treturn resolve( settings[ option ] );\n\t\t\t\t}\n\n\t\t\t\tfn( null, data );\n\t\t\t\treturn resolve( data );\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Update site-settings\n\t *\n\t * @param {Object} [query] - query object parameter\n\t * @param {Object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @return {Function} request handler\n\t */\n\tupdate( query, body, fn ) {\n\t\treturn this.wpcom.req.put( this.path, query, body, fn );\n\t}\n\n\t/**\n\t * Set site-settings single option\n\t *\n\t * @param {String} option - option to set\n\t * @param {*} value - value to assing to the given option\n\t * @param {Function} fn - callback function\n\t * @return {Function} request handler\n\t */\n\tsetOption( option, value, fn ) {\n\t\treturn this.wpcom.req.put( this.path, {}, { [ option ]: value }, fn );\n\t}\n}\n\nexport default SiteSettings;\n"]}